@import "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));

@theme {
  /* Custom color palette - mapped to :root variables */
  --color-primary: var(--primary);
  --color-primary-dark: var(--primary-dark);
  --color-secondary: var(--secondary);
  --color-secondary-light: var(--secondary-light);
  --color-accent-soft: var(--accent-soft);

  /* Custom animations */
  --animate-bounce-scale: bounce-scale 0.3s ease-in-out;
  @keyframes bounce-scale {
    0%,
    100% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.2);
    }
  }

  --animate-pulse-fast: pulse-fast 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  @keyframes pulse-fast {
    0%,
    100% {
      opacity: 1;
    }
    50% {
      opacity: 0.5;
    }
  }
}

:root {
  /* Custom color palette from PHP index.php - Source of Truth */
  --primary: #f5ad41;
  --primary-dark: #d89a35;
  --secondary: #242021;
  --secondary-light: #3a3638;
  --accent-soft: #fdf2e2;
}

body {
  @apply bg-gray-50 text-secondary antialiased transition-colors duration-300;
  font-family:
    ui-sans-serif,
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    Roboto,
    "Helvetica Neue",
    Arial,
    "Noto Sans",
    sans-serif,
    "Apple Color Emoji",
    "Segoe UI Emoji",
    "Segoe UI Symbol",
    "Noto Color Emoji";
}

:root.dark body {
  background-color: #1c191a; /* Darker Charbon for depth */
  color: #f5f5f5;
}

/* Typographie Spécifique Logo (Serif pour l'élégance) */
.font-brand-serif {
  font-family: "Playfair Display", serif;
}

/* Carte Produit - Style Premium */
.product-card {
  @apply transition-all duration-200 ease-out bg-white rounded-lg shadow-md overflow-hidden relative;
}

.product-card:hover {
  @apply -translate-y-1 shadow-xl;
  box-shadow: 0 10px 20px rgba(242, 33, 33, 0.15);
}

/* Boutons Gradués Premium */
.btn-primary {
  @apply bg-primary hover:bg-primary-dark text-secondary font-bold py-2 px-4 rounded-lg transition-colors duration-300;
}

.btn-secondary {
  @apply bg-secondary hover:bg-secondary-light text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300;
}

/* Badge Panier Amélioré */
.cart-badge {
  @apply absolute -top-2 -right-2 flex h-6 w-6 items-center justify-center rounded-full bg-secondary text-xs font-bold text-white shadow-sm animate-bounce-scale;
}

/* Scrollbars */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  @apply bg-transparent;
}

::-webkit-scrollbar-thumb {
  @apply bg-gray-300 rounded-full hover:bg-gray-400;
}

:root.dark ::-webkit-scrollbar-thumb {
  @apply bg-gray-600 hover:bg-gray-500;
}

.no-scrollbar::-webkit-scrollbar {
  display: none;
}
.no-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* GLOBAL DARK MODE OVERRIDES */
:root.dark h1,
:root.dark h2,
:root.dark h3,
:root.dark h4,
:root.dark h5,
:root.dark h6 {
  color: #f5f5f5;
}

:root.dark p,
:root.dark span,
:root.dark div {
  color: #e0e0e0;
}

/* Tables Dark Mode */
:root.dark table {
  background-color: #242021; /* Dark brand color */
  border-color: rgba(255, 255, 255, 0.1);
  color: #ffffff;
}

:root.dark thead {
  background-color: #1c191a;
  color: #f5ad41; /* Gold Accent */
}

:root.dark th,
:root.dark td {
  border-bottom-color: rgba(255, 255, 255, 0.1);
}

:root.dark tr:hover {
  background-color: rgba(255, 255, 255, 0.05);
}

/* Inputs & Forms Dark Mode */
:root.dark input,
:root.dark select,
:root.dark textarea {
  background-color: #242021;
  border-color: rgba(255, 255, 255, 0.2);
  color: #f5f5f5;
}

:root.dark input:focus,
:root.dark select:focus,
:root.dark textarea:focus {
  border-color: #f5ad41;
  --tw-ring-color: #f5ad41;
}

/* Card Backgrounds in Dark Mode (Generic) */
:root.dark .bg-white {
  background-color: #242021;
}

:root.dark .text-gray-800,
:root.dark .text-gray-700,
:root.dark .text-gray-600 {
  color: #e0e0e0;
}

/* Global Toastify Overrides */
.Toastify__toast {
  background-color: white !important;
  color: #333 !important;
  font-weight: bold !important;
  border: 1px solid #ddd !important;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1) !important;
  border-radius: 8px !important;
}

.Toastify__toast-body {
  font-family: inherit;
}

.Toastify__progress-bar {
  background: var(--primary) !important;
}

.Toastify__close-button {
  color: #999 !important;
}

/* Dark mode overrides for Toastify */
:root.dark .Toastify__toast {
  background-color: #242021 !important;
  color: #f5f5f5 !important;
  border-color: rgba(255, 255, 255, 0.1) !important;
}

:root.dark .Toastify__close-button {
  color: #f5f5f5 !important;
}
